// ==UserScript==
// @name         Habblet Ads Remover
// @namespace    http://tampermonkey.net/
// @version      1.5.0
// @match        https://www.habblet.city/hotel
// @icon         https://www.google.com/s2/favicons?sz=64&domain=habblet.city
// @grant        none
// ==/UserScript==

(function () {
    'use strict';

    function safeRemove(el) {
        try { if (el) el.remove(); } catch (e) {}
    }

    function removeAds() {
        // Remove containers flex centralizados (onde ficam os anúncios)
        document.querySelectorAll('div[style*="display: flex"][style*="justify-content: center"]').forEach(safeRemove);

        // Remove também <ins adsbygoogle>, iframes e timers, caso escapem
        document.querySelectorAll('ins.adsbygoogle, iframe[id^="aswift_"], iframe[id^="google_ads_frame"], .adTimer')
            .forEach(el => safeRemove(el.closest('div[style*="display: flex"][style*="justify-content: center"]') || el));
    }

    function init() {
        // CSS para esconder instantaneamente (sem piscar)
        const style = document.createElement('style');
        style.textContent = `
            div[style*="display: flex"][style*="justify-content: center"],
            ins.adsbygoogle,
            iframe[id^="aswift_"],
            iframe[id^="google_ads_frame"],
            .adTimer {
                display: none !important;
                visibility: hidden !important;
                width: 0 !important;
                height: 0 !important;
            }
        `;
        document.head.appendChild(style);

        // Execução inicial
        removeAds();

        // Observar mudanças no DOM (anúncios injetados dinamicamente)
        const observer = new MutationObserver(removeAds);
        observer.observe(document.body, { childList: true, subtree: true });
    }

    // Aguarda o DOM carregar antes de rodar
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', init);
    } else {
        init();
    }
})();
